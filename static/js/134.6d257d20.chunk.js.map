{"version":3,"file":"static/js/134.6d257d20.chunk.js","mappings":"mLAAaA,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OAClB,0BACE,mBAAQC,KAAK,SAASD,QAASA,EAA/B,wBAFgB,C,0ECCtB,EAA2B,2BAA3B,EAAsE,gCAAtE,EAA8G,wB,SCIjGE,EAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACzB,OACE,gBAAkBC,UAAWC,EAA7B,WACE,gBAAKC,IAAKC,EAAAA,GAAeJ,EAAKK,YAAaC,GAAIN,EAAKM,GAAIC,IAAKP,EAAKQ,MAAOP,UAAWC,IACnFF,EAAKQ,OACJ,gBAAIF,GAAIN,EAAKM,GAAIL,UAAWC,EAA5B,cAA4CF,EAAKQ,MAAjD,QAEA,eAAIF,GAAIN,EAAKM,GAAIL,UAAWC,EAA5B,SAA2CF,EAAKS,SAL3CT,EAAKM,GASjB,C,+JCPYI,EAAS,WACpB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMT,EAAOQ,EAAaE,IAAI,QAC9B,GAA0BR,EAAAA,EAAAA,UAAS,IAAnC,eAAOS,EAAP,KAAcC,EAAd,KACA,GAA4BV,EAAAA,EAAAA,UAASW,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,MAIAC,EAAAA,EAAAA,YAAU,WACN,GAAY,OAAThB,EAAH,CACA,GAAa,KAATA,EACF,OAAOiB,MAAO,YAChBF,EAAUF,EAAAA,EAAAA,SACVT,EAAU,KAEZc,EAAAA,EAAAA,IAAkBlB,EAAMK,GACrBc,MAAK,SAAAC,GAAQ,OAAIA,EAASC,OAAb,IACbF,MAAK,SAAAG,GACJlB,EAAUkB,GACVhB,EAAQD,GACRU,EAAUF,EAAAA,EAAAA,SACX,IACAU,OAAM,SAAAZ,GACLC,EAASD,EAAMa,SACfT,EAAUF,EAAAA,EAAAA,SACX,GAhBuB,CAiB3B,GAAE,CAACb,EAAMK,IAYV,OAAIS,IAAWD,EAAAA,EAAAA,SACJ,SAAC,IAAD,CAAQY,OAAQC,EAAAA,KAGvBZ,IAAWD,EAAAA,EAAAA,UACRF,EAAMa,SAIT,iCACE,kBAAMG,SApBS,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACftB,EAAgB,CAAET,KAAM8B,EAAK9B,KAAKgC,QAChCF,EAAKG,OACR,EAeK,WACE,kBAAO5C,KAAK,OAAOW,KAAK,UACxB,mBAAQX,KAAK,SAAb,uBAEAyB,IAAWD,EAAAA,EAAAA,WACZ,eAAIrB,UAAWC,EAAAA,EAAAA,QAAf,SACEU,EAAO+B,KAAI,SAAAC,GAAK,OACf,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAMtC,IAAMwC,QAASF,EAAMtC,GAAhD,UACE,SAAC,IAAD,CAAUN,KAAM4C,GAAYA,EAAMtC,KAFrB,OAMnB,SAAC,IAAD,CAAQT,QA1BG,WACfkB,GAAQ,SAAAgC,GAAQ,OAAIA,EAAW,CAAf,GACjB,EAwBK,0BAIP,C,oBC1ED,KAAgB,QAAU,6B","sources":["components/Button/Button.jsx","webpack://react-homework-template/./src/components/Home/CardFilm.module.css?4947","components/Home/CardFilm.jsx","pages/Movies.jsx","webpack://react-homework-template/./src/components/Home/GalleryFilm.module.css?1b81"],"sourcesContent":["export const Button = ({ onClick }) => (\n    <div>\n      <button type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );","// extracted by mini-css-extract-plugin\nexport default {\"cardItem\":\"CardFilm_cardItem__SW2d+\",\"cardItemImage\":\"CardFilm_cardItemImage__EKkUA\",\"title\":\"CardFilm_title__R78gF\"};","import React from 'react';\nimport { BASE_IMG_URL } from '../services/ApiBaseUrl';\nimport styles from './CardFilm.module.css'\n\n\nexport const CardFilm = ({ film }) => {\n  return (\n    <li key={film.id} className={styles.cardItem}>\n      <img src={BASE_IMG_URL + film.poster_path} id={film.id} alt={film.title} className={styles.cardItemImage} />\n      {film.title ? (\n        <h2 id={film.id} className={styles.title}> {film.title} </h2>\n      ) : (\n        <h2 id={film.id} className={styles.title}>{film.name}</h2>\n      )}\n    </li>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { fetchMoviesByName } from 'components/services/ApiServices';\nimport { useSearchParams, Link} from 'react-router-dom';\nimport { CardFilm } from 'components/Home/CardFilm';\nimport { Button } from 'components/Button/Button';\nimport { Loader } from 'components/Loader/Loader';\nimport { loadingStatus } from 'components/services/loadingStatus';\nimport styles from 'components/Home/GalleryFilm.module.css'\n\nexport const Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('name');\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState(loadingStatus.IDLE);\n  \n \n   \n  useEffect(() => {\n      if(name === null) return;\n      if (name === ''){\n        return alert ('not name')}\n      setStatus(loadingStatus.PENDING);\n      setMovies([]);\n     \n    fetchMoviesByName(name, page)\n      .then(response => response.results)\n      .then(films => {\n        setMovies(films);\n        setPage(page);\n        setStatus(loadingStatus.RESOLVED);\n      })\n      .catch(error => {\n        setError(error.message);\n        setStatus(loadingStatus.REJECTED);\n      });\n  }, [name, page]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ name: form.name.value });\n      form.reset();\n  };\n  const loreMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  if (status === loadingStatus.PENDING) {\n      return <Loader loader={Loader} />;\n  }\n\n  if (status === loadingStatus.RESOLVED) {\n    <h2>{error.message}</h2>;\n  }\n \n    return (\n      <>\n        <form onSubmit={handleSubmit}>\n          <input type=\"text\" name=\"name\" />\n          <button type=\"submit\">Search</button>\n        </form>\n        {(status === loadingStatus.RESOLVED) &&\n        (<ul className={styles.gallery}>\n          {movies.map(movie => (\n            <Link to={`/movies/${movie.id}`} movieId={movie.id}>\n              <CardFilm film={movie} key={movie.id} />\n            </Link>\n          ))}\n        </ul>)}\n        <Button onClick={loreMore}>Load more</Button>\n      </>\n    );\n  \n};\n","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"GalleryFilm_gallery__oFjeQ\"};"],"names":["Button","onClick","type","CardFilm","film","className","styles","src","BASE_IMG_URL","poster_path","id","alt","title","name","Movies","useState","movies","setMovies","page","setPage","useSearchParams","searchParams","setSearchParams","get","error","setError","loadingStatus","status","setStatus","useEffect","alert","fetchMoviesByName","then","response","results","films","catch","message","loader","Loader","onSubmit","e","preventDefault","form","currentTarget","value","reset","map","movie","to","movieId","prevPage"],"sourceRoot":""}